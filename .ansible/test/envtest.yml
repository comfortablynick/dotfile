---
# vim:ft=yaml.ansible:
- name: Test environment variables
  hosts: all
  tasks:
    - name: Debug env output
      debug:
        msg: |
          Output from lookup('env', 'HOME') = {{ lookup('env', 'HOME') }}
          Output from ansible_facts['env']['HOME'] = {{ ansible_facts['env']['HOME'] }}
          Output from ansible_facts.user_dir = {{ ansible_facts.user_dir }}
          Output from ansible_env.HOME = {{ ansible_env.HOME }}
    - name: Print ansible_facts
      debug:
        var: ansible_facts
        verbosity: 1


- name: Set vars
  hosts: all
  vars: 
    path:
      - $HOME/bin
      - $HOME/.local/bin
      - $HOME/.cargo/bin
      - $HOME/go/bin
      - $HOME/noexist
  tasks:
    - name: Debug path vars
      debug:
        var: path

    - name: Create file from template
      template:
        dest: ~/.ansible/test/out/posix.sh
        src: ~/.ansible/test/posix.j2
